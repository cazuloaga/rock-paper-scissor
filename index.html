<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Rock Paper Scissors</title>
</head>
<body>
    <h1>Try to beat the computer in five rounds</h1>
    <div id="playerSelectionBtn">
        <button id="Rock">Rock</button>
        <button id="Paper">Paper</button>
        <button id="Scissors">Scissors</button>
    </div>
    <div id='results'>
        <h3>Results</h3>
        <p id='rounds'></p>
        <p id='cpu'></p>
        <p id='player'></p>
        <p id='winner'></p>
        <p id='total'></p>
        
    </div>
</body>
<script>
    let rounds=1;
    let roundsCpu=0;
    let roundsPlayer=0;
    let roundWinner=''

    const buttons=document.querySelectorAll('button');
    buttons.forEach((button)=>{
        button.addEventListener('click',()=>{
            let playerSelection=button.id;
            computerSelection=computerPlay();
            roundWinner='';
            if(playerSelection==computerSelection){
           roundWinner='None'
           }else if (playerSelection=='Rock'){
                if (computerSelection=='Scissors'){
                   roundWinner='Player';
                   roundsPlayer+=1;
                } else if (computerSelection=='Paper'){
                       roundWinner='Computer';
                       roundsCpu+=1;
                }

       } else if (playerSelection=='Scissors'){
           if (computerSelection=='Paper'){
                roundWinner='Player';
                roundsPlayer+=1;
           }else if(computerSelection=='Rock'){
                roundWinner='Computer';
                roundsCpu+=1;
           }
       } else {
           if(computerSelection=='Rock'){
               roundWinner='Player';
               roundsPlayer+=1;
           } else if(computerSelection=='Scissors'){
               roundWinner='Computer'
               roundsCpu+=1;
           }
       }

        if (rounds<=5){
        if (rounds<5){
            const pround=document.querySelector('#rounds');
            pround.textContent=`Round # ${rounds}`
        

            const pcpu=document.querySelector('#cpu');
            pcpu.textContent=`The computer chose: ${computerSelection}`;

            const pplayer=document.querySelector('#player');
            pplayer.textContent=`You chose: ${playerSelection}`;

            const pwinner=document.querySelector('#winner');
            pwinner.textContent=`This round winner is: ${roundWinner}`;

            const ptotal=document.querySelector('#total');
            ptotal.textContent=`Player score: ${roundsPlayer} vs. Computer score: ${roundsCpu}`;
        

            console.log(`Round # ${rounds}`)
            console.log(`The computer chose: ${computerSelection}`);
            console.log(`You chose: ${playerSelection}`);
            console.log(`This round winner is: ${roundWinner}`);
            rounds+=1;
        } else {
            const pround=document.querySelector('#rounds');
            const pcpu=document.querySelector('#cpu');
            const pplayer=document.querySelector('#player');
            const pwinner=document.querySelector('#winner');
            const ptotal=document.querySelector('#total');

            pround.textContent=`Round # ${rounds}`;
            pcpu.textContent=`The computer chose: ${computerSelection}`;
            pplayer.textContent=`You chose: ${playerSelection}`;
            pwinner.textContent=`This round winner is: ${roundWinner}`
            if (roundsPlayer>roundsCpu){
                ptotal.textContent=`You win the game! ${roundsPlayer} to ${roundsCpu}`;
            } else if(roundsPlayer<roundsCpu){
                ptotal.textContent=`You loose the game! ${roundsPlayer} to ${roundsCpu}`;
            } else{
                ptotal.textContent=`It's a tie! better luck next time`;
            }
            rounds=1;
            roundsCpu=0;
            roundsPlayer=0;            
        }
    }



        });

    });

   function computerPlay(){
       let computerChoice = Math.floor(Math.random() * 3)+1;
       if (computerChoice == 1){
           return "Rock";
       } else if (computerChoice == 2){
           return "Paper";
       } else{
           return "Scissors"
       }
   } 

/*
   function playRound(playerSelection,computerSelection){
       playerSelection=playerChoice();
       computerSelection=computerPlay();
       if ((playerSelection=='ROCK' && computerSelection== 'SCISSORS') || (playerSelection=='PAPER' && computerSelection=='ROCK') || (playerSelection=='SCISSORS' && computerSelection=='PAPER')){
           let roundWinner='Player';
           let roundMessage=`You win this round! ${playerSelection} beats ${computerSelection}`;
       } else if (playerSelection==computerSelection){
            roundWinner='None'
            roundMessage=`It's a tie! you both chose ${computerSelection}`;          
       } else{
        roundMessage =`You loose this round! ${computerSelection} beats ${playerSelection}`;
        roundWinner='Computer'
       }
       window.alert(`computer chose ${computerSelection}`);
       window.alert(`you chose ${playerSelection}`);
       window.alert(`round winner ${roundWinner}`);
       console.log(roundWinner)
    }
*/


   function game(){
    let playerRounds=0;
    let computerRounds=0;
       for (let rounds=1;rounds<=5;rounds++){
           playRound();
           if (roundWinner=='Player'){
               playerRounds+=1;
           } else if (roundWinner=='Computer'){
               computerRounds+=1;
           }
           window.alert(`Player score: ${playerRounds} vs Computer score: ${computerRounds}`);
           window.alert(`Rounds to play = ${5 - rounds}`);
           
       }
       if (playerRounds > computerRounds){
           window.alert(`You win the game ${playerRounds} to ${computerRounds}`);
       } else if (computerRounds>playerRounds){
        window.alert(`You loose the game ${playerRounds} to ${computerRounds}. Better luck next time`);
       }else{
        window.alert(`It's a tie better luck next time!`);
       }                            
   }
  </script>
</html>